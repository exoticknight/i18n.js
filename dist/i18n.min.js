!function(t,e,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof module&&module.exports?module.exports=n():t[e]=n()}(this,"i18n",function(){var t=this,e={},n={};e.version="0.0.1";{var r={},o=[],i="",u=!1,a=t.i18n,c=[],f=c.push;c.slice,c.splice}return n.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},n.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},n.deepCopy=function(t,e){var r,o,i,u,a=!1;r=t;for(o in e)u=e[o],n.isObject(u)||(a=n.isArray(u))?(a?(a=!1,i=[]):i={},r[o]=n.deepCopy(i,u)):void 0!==u&&(r[o]=u);return r},n.getData=function(t,e){var n,r,o=t.split("."),i=e;for(n=0,r=o.length;r>n;n++)if(i=i[o[n]],!i)return"";return i},n.hasAttr=function(t,e){return t.hasAttribute?t.hasAttribute(e):void 0!==t[e]},n.getAttr=function(t,e){var n=t.getAttribute&&t.getAttribute(e)||null;if(!n)for(var r=t.attributes,o=r.length,i=0;o>i;i++)r[i].nodeName===e&&(n=r[i].nodeValue);return n},n.setText=function(t,e){var n,r=t.nodeType;r&&1===r&&(n="innerText"in t?"innerText":"textContent",t[n]=e)},n.walkDOM=function(t,e,r){var o,i;if(t&&1===t.nodeType)for(i=r?r(t):!0,i&&e(t),o=t.firstChild;o;)n.walkDOM(o,e,r),o=o.nextSibling},n.filterNodes=function(t){var e=[];return n.walkDOM(t,function(t){e.push(t)},function(t){return n.hasAttr(t,"data-i18n")}),e},n.translate=function(t,e){var r,o,i,u;for(i=0,u=t.length;u>i;i++)r=n.getAttr(t[i],"data-i18n"),o=n.getData(r,e),"string"==typeof o&&n.setText(t[i],o)},e.noConflict=function(){return t.i18n=a,e},e.load=function(t){return r=n.deepCopy(r,t),e},e.current=function(){return i},e.translate=function(t){var o,u,a,c,f;if(o=r[i])for(u="[object NodeList]"===Object.prototype.toString.call(t)?t:[t],a=0,c=u.length;c>a;a++)f=n.filterNodes(u[a]),n.translate(f,o);return e},e.use=function(a){var c,f=r[a];return f&&(c=u?o:n.filterNodes(t.document.body),n.translate(c,f),i=a),e},e.cache=function(r){var i=void 0===r,a=n.filterNodes(i?t.document.body:r);return i&&(o.length=0),f.apply(o,a),u=!0,e},e.cleanCache=function(){return o.length=0,u=!1,e},e});