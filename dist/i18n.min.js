!function(t,e,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof module&&module.exports?module.exports=n():t[e]=n()}(this,"i18n",function(){var t=this,e={},n={};e.version="0.0.1";var r={},o=[],i="",u=!1,a=t.i18n,c=[],f=c.push;return n.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},n.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},n.deepCopy=function(t,e){var r,o,i,u,a=!1;r=t;for(o in e)u=e[o],u!==e&&(n.isObject(u)||(a=n.isArray(u))?(a?(a=!1,i=[]):i={},r[o]=n.deepCopy(i,u)):void 0!==u&&(r[o]=u));return r},n.getTranslatedText=function(t,e){var n,r,o=t.split("."),i=e;for(n=0,r=o.length;r>n;n++)if(i=i[o[n]],!i)return"";return i},n.hasAttr=function(t,e){return t.hasAttribute?t.hasAttribute(e):void 0!==t[e]},n.getAttr=function(t,e){return t.getAttribute&&t.getAttribute(e)||""},n.setText=function(t,e){var n,r=t.nodeType;r&&1===r&&(n="innerText"in t?"innerText":"textContent",t[n]=e)},n.walkDOM=function(t,e){var r;if(t&&(1===t.nodeType||11===t.nodeType))for(e(t),r=t.firstChild;r;)n.walkDOM(r,e),r=r.nextSibling},n.filterNodes=function(t){var e=[];return n.walkDOM(t,function(t){n.hasAttr(t,"data-i18n")&&e.push(t)}),e},n.translate=function(t,e){var r,o,i,u;for(i=0,u=t.length;u>i;i++)r=t[i].getAttribute("data-i18n"),r&&(o=n.getTranslatedText(r,e),"string"==typeof o&&n.setText(t[i],o))},e.noConflict=function(){return t.i18n=a,e},e.load=function(t){return r=n.deepCopy(r,t),e},e.current=function(){return i},e.translate=function(t){var e,o,u,a,c;if(e=r[i]){o="[object NodeList]"===Object.prototype.toString.call(t)||"length"in t?t:[t];for(u=0,a=o.length;a>u;u++)c=n.filterNodes(o[u]),n.translate(c,e)}return c},e.use=function(a){var c,f=r[a];return f&&(c=u?o:n.filterNodes(t.document.body),n.translate(c,f),i=a),e},e.cache=function(r){var i=void 0===r,a=n.filterNodes(i?t.document.body:r);return i&&(o.length=0),f.apply(o,a),u=!0,e},e.cleanCache=function(){return o.length=0,u=!1,e},e});