!function(t,n,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t[n]=e()}(this,"i18n",function(){var t=this,n={};n.version="0.0.1";var e={},r=[],o="",u=!1,c=t.i18n,f=[],a=f.push,l=(f.slice,f.splice,Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}),d=function(t){return"[object Object]"===Object.prototype.toString.call(t)},p=function(t,n){var e,r,i,o,u=!1;e=t;for(r in n)o=n[r],d(o)||(u=l(o))?(u?(u=!1,i=[]):i={},e[r]=p(i,o)):void 0!==o&&(e[r]=o);return e},s=function(t,n){var e,r,i=t.split("."),o=n;for(e=0,r=i.length;r>e;e++)if(o=o[i[e]],!o)return"";return o},h=function(t,n){return t.hasAttribute?t.hasAttribute(n):void 0!==t[n]},v=function(t,n){var e=t.getAttribute&&t.getAttribute(n)||null;if(!e)for(var r=t.attributes,i=r.length,o=0;i>o;o++)r[o].nodeName===n&&(e=r[o].nodeValue);return e},b=function(t,n){var e,r=t.nodeType;r&&(e="innerText"in t?"innerText":"textContent",t[e]=n)},y=function(t,n,e){var r,i;if(t&&1===t.nodeType)for(i=e?e(t):!0,i&&n(t),r=t.firstChild;r;)y(r,n,e),r=r.nextSibling},g=function(t){var n=[];return y(t,function(t){var e=v(t,"data-i18n");n.push({ele:t,key:e})},function(t){return h(t,"data-i18n")}),n},x=function(t){for(i=0,length=t.length;i<length;i++)text=s(t[i].key,langTable),"string"==typeof text&&b(t[i].ele,text)};return n.noConflict=function(){return t.i18n=c,n},n.load=function(t){e=p(e,t)},n.current=function(){return o},n.use=function(n){var i=e[n],c=u?r:g(t.document.body);i&&(x(c),o=n)},n.cache=function(n){var e=void 0===n,i=g(e?t.document.body:n);e?r.length=0:x(i),a.apply(r,i),u=!0},n.cleanCache=function(){r.length=0,u=!1},n});